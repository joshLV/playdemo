#{extends 'layout_trader/layout.html' /}
#{include 'Share/nav.html' /}
#{set title:'商品订单' /}
#{set 'moreScripts'}
  <script src="@{'/public/javascripts/My97DatePicker/WdatePicker.js'}" type="text/javascript" charset="UTF-8"></script>
#{/set}

<div class="body">
 <legend>商品订单</legend>
 <form class="form-horizontal" name="frmlist" action="@{SupplierOrders.index()}" method="GET">
  <table width="80%">
   <tr>
    <td>成交时间：<input type="text" id="createdAtBegin" name="orders.createdAtBegin" onfocus="WdatePicker({readOnly:true})"
     class="input-medium Wdate" />至 <input type="text" id="createdAtEnd" name="orders.createdAtEnd" onfocus="WdatePicker({readOnly:true})"
     class="input-medium Wdate" /></td>
      <td>物流方式： <select id="deliveryType" name="orders.deliveryType" class="input-small">
      <option value="">请选择</option>
      <option value="1">无物流</option>
      <option value="2">有物流</option>
    </select></td>
    </tr>
    <tr>
    <td>退款时间：<input type="text" name="orders.refundAtBegin" onfocus="WdatePicker({readOnly:true})"
     class="input-medium Wdate" />至 <input type="text" name="orders.refundAtEnd" onfocus="WdatePicker({readOnly:true})"
     class="input-medium Wdate" /></td>
      <td>支付方式： <select id="payMethod" name="orders.payMethod" class="input-small">
      <option value="">请选择</option>
      <option value="1">支付宝</option>
      <option value="2">网银</option>
    </select></td>
   </tr>
   <tr>
    <td>关&nbsp;键&nbsp;字：
    <select name="orders.searchKey" class="input-small">
      <option value="">请选择</option>
      <option value="1">商品名称</option>
      <option value="2">订单号</option>
    </select>
     <input type="text" name="orders.searchItems" class="input-medium" /></td>
     <td>订单状态： <select id="status" name="orders.status" class="input-small">
     <option value="">请选择</option>
      <option value="UNPAID">未支付</option>
      <option value="PAID">已支付</option>
      <option value="CANCELED">取消订单</option>
      <option value="SENT">交易成功</option>
      <option value="RETURNED">退款</option>
      <option value="RECEIPT">确认取货</option>
    </select>
    <td><button class="btn btn-primary" id="searchbtn" type="submit">搜索</button></td>
   </tr>
  </table>
 </form>
  <div style="margin-bottom: 12px">
  <button class="btn btn-primary" type="button">导出报表</button>
  </div>

  <table class="table table-striped table-bordered table-condensed">
   <thead>
    <tr>
     <th>订单</th>
     <th>商品名称</th>
     <th>购买数量</th>
     <th>运单号</th>
     <th>总金额</th>
     <th>订单状态</th>
     <th>成交时间</th>
     <th>退款时间</th>
     <th>操 作</th>
    </tr>
   </thead>

   <tbody>
    #{paginate.list items:orderList, as:'order'}
    #{list items:order.orderItems, as:'item'  }
    <tr>
     <td>${order.orderNumber}</td>
     <td>${item.goods.name}</td>
     <td>${item.buyNumber}</td>
     <td>${order.deliveryNo}</td>
     <td>${order.amount}</td>
     <td>&{'order.'+order.status}</td>
     <td>${order.createdAt == null ?'':order.createdAt.format("yyyy-MM-dd HH:mm:ss")}</td>
     <td>${order.refundAt == null ?'':order.refundAt.format("yyyy-MM-dd HH:mm:ss")}</td>
    <td><a href="@{SupplierOrders.details(order.id)}">查看</a></td>
    </tr>
    #{/list}
     #{/paginate.list}
   </tbody>
  </table>
 <div class="pagination" align="center">
     <ul>
    #{paginate.controls items:orderList /}
    </ul>
  </div>

</div>

