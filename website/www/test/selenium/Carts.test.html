#{fixture delete:'all', load:'fixture/carts.yml' /}
#{selenium 'Test Carts/index.html'}
open('/goods/${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}')
click('id=link_add_cart')
open('/goods/${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_2")}')
click('id=link_add_cart')
open('/carts')
verifyValue('id=num_${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_2")}','1')
verifyValue('id=num_${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}','1')
click('//tr[@id='row_${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}']/td[4]/a[2]/img')
waitForValue('id=num_${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}','2')
click('css=a[name="${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}"] > img')
click('css=a[name="${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}"] > img')
waitForValue('id=num_${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}','1')
click('//tr[@id='row_${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}']/td[6]/a')
waitForElementNotPresent('//tr[@id='row_${play.test.Fixtures.idCache.get("models.sales.Goods-Goods_1")}']')
verifyText('id=total_num','1')
#{/selenium}
