#{fixture delete:[models.admin.OperateUser.class,
    models.admin.OperateRole.class],
  load:['fixture/roles.yml','fixture/supplier_users.yml'] /}

#{selenium}
    #{include 'test/selenium/step/login.selenium' /}
    open('/users/new')
    assertTitle('操作员添加')
    click('xpath=(//input[@id='operateUser.roles.id'])[2]')
    type('id=loginName','小王')
    type('id=mobile','13112312417')
    type('name=operateUser.encryptedPassword','')
    *{clickAndWait('id=save')}*
    *{verifyTextPresent('请输入密码!')}*
#{/selenium}

#{selenium}
    #{include 'test/selenium/step/login.selenium' /}
    open('/users/new')
    assertTitle('操作员添加')
*{verifyText('//form[@id='operForm']/div/div/label[3]','测试角色')}*
    click('name=operateUser.roles.id')
    type('id=loginName','tttt')
    type('id=userName','小王6')
    type('id=mobile','13012012016')
    type('id=email','11@qq.com')
    type('id=jobNumber','113242')
    type('name=operateUser.encryptedPassword','123456')
    clickAndWait('id=save')
    assertTitle('操作员一览')
#{/selenium}
