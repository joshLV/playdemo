#{fixture delete:[models.admin.SupplierUser.class,models.admin.SupplierRole.class,
models.sales.Brand.class,models.supplier.Supplier.class],
load:['fixture/roles.yml','fixture/supplierusers.yml','fixture/brands.yml'] /}

#{selenium '添加品牌'}
    #{include 'test/selenium/step/login.selenium' /}
open('/brands/new')
assertTextPresent('添加品牌')
type('id=brand_name','Nike')
type('id=brand_displayOrder','100')
type('id=brand_introduce','introduce')
clickAndWait('id=save')
verifyTitle('添加品牌')
verifyTextPresent('无效的Logo!')
#{/selenium}

#{selenium '修改品牌'}
    #{include 'test/selenium/step/login.selenium' /}
open('/brands/${play.test.Fixtures.idCache.get("models.sales.Brand-Brand_8")}/edit')
verifyTitle('修改品牌')
verifyValue('id=brand_name','豆捞坊3')
verifyValue('id=brand_displayOrder','200')
type('id=brand_name','豆捞坊-Test')
type('id=brand_displayOrder','100')
clickAndWait('id=save')
verifyTitle('品牌一览')
verifyTextPresent('豆捞坊-Test')
#{/selenium}

#{selenium '删除品牌'}
    #{include 'test/selenium/step/login.selenium' /}
open('/brands')

verifyTitle('品牌一览')
verifyTextPresent('来一份3')
clickAndWait('id=del_${play.test.Fixtures.idCache.get("models.sales.Brand-Brand_7")}')
assertConfirmation('您确定要删除来一份3吗？')
verifyTitle('品牌一览')
verifyTextNotPresent('来一份3')
#{/selenium}