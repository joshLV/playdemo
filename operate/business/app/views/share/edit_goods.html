<div class="control-group">
    <label class="control-label"><span style="color: red; ">*</span>商&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;户</label>

    <div class="controls">
    #{select 'goods.supplierId',value:supplierId, id:'supplierId', class:'input-small'}
        #{list items:supplierList, as:'supplier' }
            #{option supplier.id}${supplier.fullName}#{/option}
        #{/list}
    #{/select}
        <span class="error">#{error 'goods.supplierId'/}</span>
    </div>
</div>
<div class="control-group">
    <label class="control-label"><span style="color: red; ">*</span>商品分类</label>

    <div class="controls">
    #{select 'topCategoryId', value:topCategoryId, id:'topCategoryId', class:'input-small'}
        #{list items:categoryList, as:'category' }
            #{option category.id}${category.name}#{/option}
        #{/list}
    #{/select}
    #{select 'goods.categories.id',value:categoryId, id:'categoryId', class:'input-small'}
        #{list items:subCategoryList, as:'category' }
            #{option category.id}${category.name}#{/option}
        #{/list}
    #{/select}
        <span class="error">#{error 'goods.category'/}</span>
    </div>
</div>
<div class="control-group">
    <label for="goods_brand_id" class="control-label"><span style="color: red; ">*</span>品&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;牌</label>

    <div class="controls">
        <select id="goods_brand_id" name="goods.brand.id" class="input-small">
        #{list items:brandList, as:'brand' }
            <option value="${brand?.id}" ${brand?.id == goods?.brand?.id ?'selected':''}>${brand?.name}</option>
        #{/list}
        </select>
        <span class="error">#{error 'goods.brand' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="no" class="control-label">商品编号</label>

    <div class="controls">
        <input type="text" id="no" name="goods.no" class="input-xlarge" value="${goods?.no}"/>
        <span class="error">#{error 'goods.no' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="goods_name" class="control-label"><span style="color: red; ">*</span>商品名称</label>

    <div class="controls">
        <input type="text" id="goods_name" name="goods.name" class="input-xlarge" value="${goods?.name}"/>
        <span class="error">#{error 'goods.name' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="effectiveAt" class="control-label"><span style="color: red; ">*</span>券有效期</label>

    <div class="controls">
        <input class="input-medium Wdate" type="text" id="effectiveAt" name="goods.effectiveAt"
               value="${goods?.effectiveAt?.format("yyyy-MM-dd")}"
               onfocus="WdatePicker({readOnly:true})"/> 至
        <input class="input-medium Wdate" type="text" id="expireAt" name="goods.expireAt"
               value="${goods?.expireAt?.format("yyyy-MM-dd")}"
               onfocus="WdatePicker({readOnly:true})"/>
        <span class="error">#{error 'goods.effectiveAt' /}</span>
        <span class="error">#{error 'goods.expireAt' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="faceValue" class="control-label"><span style="color: red; ">*</span>原&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;价</label>

    <div class="controls">
        <input type="text" id="faceValue" name="goods.faceValue" class="input-small"
               value="${goods?.faceValue}"/>元
        <span class="error">#{error 'goods.faceValue' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="originalPrice" class="control-label"><span style="color: red; ">*</span>进&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;价</label>

    <div class="controls">
        <input type="text" id="originalPrice" name="goods.originalPrice" class="input-small"
               value="${goods?.originalPrice}"/>元
        <span class="error">#{error 'goods.originalPrice' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="salePrice" class="control-label"><span style="color: red; ">*</span>现&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;价</label>

    <div class="controls">
        <input type="text" id="salePrice" name="goods.salePrice" class="input-small"
               value="${goods?.salePrice}"/>元
        <span class="error">#{error 'goods.salePrice' /}</span>
    </div>
</div>
#{list items:goods.levelPrices, as:'levelPrice'}
<div class="control-group">
    <label for="salePrice" class="control-label"><span style="color: red; ">*</span>&{'goods.level.'+levelPrice.level}价</label>
    <div class="controls">
        <input type="text" id="levelPrice_${levelPrice.level}" name="goods.levelPrice" class="input-small"
               value="${levelPrice?.price}"/>元
        <span class="error">#{error 'goods.levelPrices.price' /}</span>
    </div>
</div>
#{/list}

<div class="control-group">
    <label for="baseSale" class="control-label"><span style="color: red; ">*</span>库&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;存</label>

    <div class="controls">
        <input type="text" id="baseSale" name="goods.baseSale" class="input-small" value="${goods?.baseSale}"/>件
        <span id="errorBaseSale" class="error">#{error 'goods.baseSale' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="image" class="control-label"><span style="color: red; ">*</span>商品图片</label>

    <div class="controls">
        <input type="file" id="image" name="image" class="input-file"/>
    </div>
    <div class="controls">
        <span class="error">#{error 'goods.image'/}</span></div>
</div>
<div class="control-group">
    <label for="prompt" class="control-label">温馨提示</label>

    <div class="controls">
        <textarea name="goods.prompt" id="prompt" cols="100" rows="8"
                  style="width:700px;height:200px;display:block;">${goods?.prompt}</textarea>
    </div>
</div>
<div class="control-group">
    <label for="details" class="control-label"><span style="color: red; ">*</span>商品详情</label>

    <div class="controls">
        <textarea name="goods.details" id="details" cols="100" rows="8"
                  style="width:700px;height:200px;visibility:hidden;">${goods?.details}</textarea>
        <span class="error">#{error 'goods.details' /}</span>
    </div>
</div>
<div class="control-group">
    <label for="isAllShop1" class="control-label"><span style="color: red; ">*</span>使用门店</label>

    <div class="controls">
        <input type="radio" value="true" id="isAllShop1" name="isAllShop"
               #{if isAllShop}checked#{/if}/>全部门店
        <input type="radio" value="false" id="isAllShop2" name="isAllShop"
               #{if !isAllShop}checked#{/if}/>部分门店
    </div>
    <div class="controls" id="shop" style="display:none">
        <table class="table table-striped table-bordered table-condensed">
            <tbody>
            #{list items:shopList, as:'shop' }
            <tr>
                <td><input type="checkbox" id="shops" value="${shop?.id}" name="goods.shops.id"
                           #{if shopIds?.contains(String.valueOf(shop?.id))}checked#{/if}/></td>
                <td>${shop.name}</td>
                <td>${shop.address}</td>
                <td>${shop.phone}</td>
            </tr>
            #{/list}
            </tbody>
        </table>
    </div>

</div>
