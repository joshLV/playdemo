#{extends 'layout_operate/layout.html' /}
#{set title:'商户一览' /}
#{include '/share/nav.html' /}
#{set 'moreScripts'}
<script src="@{'/public/javascripts/suppliers.js'}" type="text/javascript" charset="UTF-8"></script>
#{/set}

<div class="body">
    <legend>商户一览</legend>

    <table class="table table-striped table-bordered table-condensed">
        <thead>
        <tr>
            <th>公司名称</th>
            <th>域名</th>
            <th>负责人姓名</th>
            <th>负责人手机</th>
            <th>负责人电话</th>
            <th>职务</th>
            <th>备注</th>
            <th>状态</th>
            <th>创建时间</th>
            <th>修改时间</th>
            <th>操 作</th>
        </tr>
        </thead>

        <tbody>

        #{paginate.list items:suppliers, as:'supplier'}
        <tr>
            <td>${supplier?.fullName}</td>
            <td>${supplier?.domainName}.${play.Play.configuration.getProperty("application.baseDomain")}</td>
            <td>${supplier?.userName}</td>
            <td>${supplier?.mobile}</td>
            <td>${supplier?.phone}</td>
            <td>${supplier?.position}</td>
            <td>${supplier?.remark}</td>
            <td>&{'supplier.'+supplier.status}</td>
            <td>${supplier?.createdAt?.format()}</td>
            <td>${supplier?.updatedAt?.format()}</td>
            <td><a href="@{Suppliers.edit(supplier.id)}">修改</a>
                / #{vx.deleteLink id:supplier?.id, name:supplier?.fullName, action:"/suppliers"/}
                #{if models.supplier.SupplierStatus.NORMAL.equals(supplier.status)}
                    / #{vx.operateLink text:"冻结", url:"/suppliers/"+supplier.id+"/freeze", method:"PUT"/}#{/if}
                #{if models.supplier.SupplierStatus.FREEZE.equals(supplier.status)}
                    / #{vx.operateLink text:"解冻", url:"/suppliers/"+supplier.id+"/unfreeze", method:"PUT"/}#{/if}
            </td>
        </tr>
        #{/paginate.list}
        </tbody>
    </table>
</div>