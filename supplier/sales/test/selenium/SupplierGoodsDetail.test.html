#{fixture delete:[models.admin.SupplierUser.class,models.admin.SupplierRole.class,
    models.supplier.Supplier.class,
    models.sales.Category.class,
    models.sales.Area.class,
    models.sales.Goods.class,
    models.sales.Brand.class],
    load:['fixture/roles.yml','fixture/supplierusers.yml','fixture/areas.yml','fixture/base_data.yml','fixture/goods.yml'] /}

#{selenium '商品一览'}
    #{include 'test/selenium/step/login.selenium' /}
    open('/goods')
    assertTextPresent('商品一览')
#{/selenium}

#{selenium '查看商品'}
    #{include 'test/selenium/step/login.selenium' /}
    open('/goods/${play.test.Fixtures.idCache.get("models.sales.Goods-Goods1")}')
    verifyTitle('查看商品')
    verifyTextPresent('测试商品1')
#{/selenium}

#{selenium '修改商品'}
    #{include 'test/selenium/step/login.selenium' /}
    open('/goods/${play.test.Fixtures.idCache.get("models.sales.Goods-Goods2")}/edit')
    verifyTitle('修改商品')
    type('id=goods_no','002')
    type('id=goods_shortName','测试商品2')
    open('/goods?page=1')
#{/selenium}

